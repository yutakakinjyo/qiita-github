この記事は[Git Advent Calendar 2015](http://qiita.com/advent-calendar/2015/git)の16日目の記事です。

# GitHub, Git の普及ノウハウ記事

この記事を読むと、GitHub と Git を人に紹介する時、導入後のノウハウ、普及時のメンタルヘルスについて知識が得られます。
これから現場に GitHub を普及させたい方に有用な記事かもしれません。
技術的な Tips は少なめです。

# GitHub について人に伝えるポイント

どうも、[GitHub おじさん](http://www.slideshare.net/yutakakinjyo/github-36864200)、または [一度死んだおじさん](http://www.slideshare.net/yutakakinjyo/hackerscample-lt-49900119) こと沖縄の金城です。「GitHub とは何か?」と人に説明する機会が多いので、その経験から、伝え方のノウハウが少し溜まってるので書いています。

**技術紹介編**
- Git はバージョン管理ツール、 GitHub は Git のホスティングサービス
- Git には worktree, index, repository の３つの領域がある
- コミットはセーブ
- ブランチは並行世界(世界線)
- PullRequest は変更のバッファ

**導入後編**
- push -f 禁止、分からなくなっても clone し直さない
- 変更をコミットしないとブランチを移動した時持ち越す
- コミットは細かく、メッセージは詳しく理由を、Pull Request は短く

**「おじさん」編**
- 「おじさん」になるには名乗るだけ。中身は後からついてくる
- 「これが出来てから」ではなくてさっさと全部やる

### Git はバージョン管理ツール、 GitHub は Git のホスティングサービス

初手の説明はこうです。

「Git はバージョン管理ツールです、 GitHub は Git のホスティングサービスです。」

まず Git と GitHub について位置づけを説明します。
よく似てる言葉なので、混同されてる方がいます。この区別が付かないまま話を進めてしまうと、明確に理解をしてもらえません。

この時、

「Git には、Subversion のようなバージョン管理です。」

という風に相手が既知なバージョン管理の知識と紐付けることをお勧めします。VSS でもいいです。mercurial だといいですね。
( いや、でも実際には Subversion とは全然違うし... ) と思っていても大丈夫です。まずは相手の知ってる知識とつなげて、理解してもらい、その後で差分を説明します。

次に「ホスティング」の説明をします。
僕はよく

「Git を中心に開発者がコミュニケーションしやすい機能をつけたもの。Web 上から閲覧できる」

という説明をします。これで、最初に言った

「Git はバージョン管理ツールです、 GitHub は Git のホスティングサービスです。」

という言葉それぞれが、聞いている側の既に知っている知識と紐づくようになります。

### ブランチは平行世界

大事な概念であるブランチについても説明しておいた方がいいでしょう。
Git ではブランチを気軽に作れます。

### Pull Request は変更のバッファ

ブランチを作ったあとは Pull Request が作成できます。
「Pull Request は 変更のバッファです」と僕はよく説明します。

VSS や Suversion 等では変更をコミットをすると一発で中央になるリポジトリに反映される。
Git と GitHub で Pull Request を利用することで、一旦その変更をバッファにとっておくことができます。
そのバッファは Web 上から確認でき、差分として表示される。しかもその差分にコメントできる。
レビューが済んだら、ボタンひとつで本体のコードに取り込むことができる。
そうして、本体のソースコードを守りつつ、安全にレビューができる。といった具合です。

要するに、今までのバージョン管理ツールとしてだけではなく、開発のフローをシステムが提供してくれる。

### ある程度タスク管理ができる

issue が作れます。Redmine のチケットみたいなものです。と説明します。

## 技術編紹介

と言った風に、とくに GitHub を紹介するにあたっては

- Git と GitHub の位置づけ
- Git と 他のバージョン管理との違い
- ブランチと Pull Request による開発者同士のコミュニケーション

の３つの特徴があるのではないかと思って、それらを説明しています。
加えて、聞き手の反応がいい場合には、CI 連携ができる。など周辺のエコシステムについて説明などをします。

### push -f 禁止、分からなくなっても clone し直さない

初めは Git で事故りやすいので、その予防をするといいと思います。

- push -f 禁止

これです。歴史さえ書き換えなければなにか事故っても復旧できるので、最初のうちはこういった歴史書き換え系のコマンドは禁止してもいいと思います。
push -f に関しては Git からサジェッションされたりするので、要注意ですね。言われるがままに打つとアウトです。

- clone は一度だけ

手っ取り早く Git に慣れるには訳が分からなくなってもリポジトリを clone し直さないことです。
思考停止せずに、現状を正確に判断してやりたいことをやるにはどうしたらいいか、

はじめに、git branch , git status, git diff, git log あたりの現状確認できるコマンドは念入りにインストして置いた方がいいでしょう。
とくにスムーズに Git を理解するには、

「Git には worktree, index, repository の３つの領域がある」を伝えておくことがいいでしょう。それぞれの領域の意味をしっかりと伝えましょう。

### ブランチのはやし方

現在どのブランチにいるかわからずに新たにブランチを
本来は master から生やしたいのに。というものがありますので、

リモートなのかローカルなのか。その差分が重要です。

### 変更をコミットしないとブランチを移動した時持ち越す

よく起きがちで、始めたての人の心を折る現象として、

「別のブランチに移動しようとしても、なんかエラー出てできない。」

というものがあります。

### 復旧するときは一緒に

ログが見れるので、そこから分析して、一緒に普及するといいでしょう

### コミットは細かく、メッセージは詳しく理由を、Pull Request は短く

すこし番外編
運用がぐんと楽になる、GitHub のパワーが効率よく引き出されることとして、以下の３つのポイントがあります。

- コミットは細かく
- メッセージは詳しく理由を
- Pull Request は短く

